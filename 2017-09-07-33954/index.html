<!doctype html>



  


<html class="theme-next pisces use-motion" lang="zh-Hans">
<head>
  <meta charset="UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=edge" />
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1"/>









<meta http-equiv="Cache-Control" content="no-transform" />
<meta http-equiv="Cache-Control" content="no-siteapp" />















  
  
  <link href="/lib/fancybox/source/jquery.fancybox.css?v=2.1.5" rel="stylesheet" type="text/css" />




  
  
  
  

  
    
    
  

  

  

  

  

  
    
    
    <link href="//fonts.googleapis.com/css?family=Lato:300,300italic,400,400italic,700,700italic&subset=latin,latin-ext" rel="stylesheet" type="text/css">
  






<link href="/lib/font-awesome/css/font-awesome.min.css?v=4.6.2" rel="stylesheet" type="text/css" />

<link href="/css/main.css?v=5.1.1" rel="stylesheet" type="text/css" />


  <meta name="keywords" content="读书," />








  <link rel="shortcut icon" type="image/x-icon" href="/favicon.ico?v=5.1.1" />






<meta name="description" content="为便于查阅，拷贝辑录52个细节要点作为参考纲要，等需要深入了解时再进行扩展阅读。 1.向“大众”借力﻿   人类的行为会在相当程度上受到周围的人的影响，尤其是那些令他们深深认同的人，这就是“社会认同原理”，也就是从众心理，如果在物业费缴费通知单上标出大多数人都已经按时缴纳完毕，那么拖欠物业费的现象会有相当大程度的改善。﻿ ﻿2.“小众”的反作用力﻿   人们总是愿意与自己所属的群体行为保持一致，同">
<meta name="keywords" content="读书">
<meta property="og:type" content="article">
<meta property="og:title" content="细节：如何轻松影响他人 - 罗伯特·西奥迪尼">
<meta property="og:url" content="http://blog.todo4team.net/2017-09-07-33954/index.html">
<meta property="og:site_name" content="Love Coding &amp; Integrity">
<meta property="og:description" content="为便于查阅，拷贝辑录52个细节要点作为参考纲要，等需要深入了解时再进行扩展阅读。 1.向“大众”借力﻿   人类的行为会在相当程度上受到周围的人的影响，尤其是那些令他们深深认同的人，这就是“社会认同原理”，也就是从众心理，如果在物业费缴费通知单上标出大多数人都已经按时缴纳完毕，那么拖欠物业费的现象会有相当大程度的改善。﻿ ﻿2.“小众”的反作用力﻿   人们总是愿意与自己所属的群体行为保持一致，同">
<meta property="og:locale" content="zh-Hans">
<meta property="og:updated_time" content="2017-09-07T01:01:31.000Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="细节：如何轻松影响他人 - 罗伯特·西奥迪尼">
<meta name="twitter:description" content="为便于查阅，拷贝辑录52个细节要点作为参考纲要，等需要深入了解时再进行扩展阅读。 1.向“大众”借力﻿   人类的行为会在相当程度上受到周围的人的影响，尤其是那些令他们深深认同的人，这就是“社会认同原理”，也就是从众心理，如果在物业费缴费通知单上标出大多数人都已经按时缴纳完毕，那么拖欠物业费的现象会有相当大程度的改善。﻿ ﻿2.“小众”的反作用力﻿   人们总是愿意与自己所属的群体行为保持一致，同">



<script type="text/javascript" id="hexo.configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Pisces',
    sidebar: {"position":"left","display":"post","offset":12,"offset_float":0,"b2t":false,"scrollpercent":false},
    fancybox: true,
    motion: true,
    duoshuo: {
      userId: '0',
      author: '博主'
    },
    algolia: {
      applicationID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    }
  };
</script>



  <link rel="canonical" href="http://blog.todo4team.net/2017-09-07-33954/"/>





  <title>细节：如何轻松影响他人 - 罗伯特·西奥迪尼 | Love Coding & Integrity</title>
  














</head>

<body itemscope itemtype="http://schema.org/WebPage" lang="zh-Hans">

  
  
    
  

  <div class="container sidebar-position-left page-post-detail ">
    <div class="headband"></div>

    <header id="header" class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-wrapper">
  <div class="site-meta ">
    

    <div class="custom-logo-site-title">
      <a href="/"  class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Love Coding & Integrity</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
      
        <p class="site-subtitle">分享&自我完善, 爱&心智成熟</p>
      
  </div>

  <div class="site-nav-toggle">
    <button>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
      <span class="btn-bar"></span>
    </button>
  </div>
</div>

<nav class="site-nav">
  

  
    <ul id="menu" class="menu">
      
        
        <li class="menu-item menu-item-home">
          <a href="/" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-home"></i> <br />
            
            首页
          </a>
        </li>
      
        
        <li class="menu-item menu-item-archives">
          <a href="/archives" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-archive"></i> <br />
            
            归档
          </a>
        </li>
      
        
        <li class="menu-item menu-item-tags">
          <a href="/tags" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-tags"></i> <br />
            
            标签
          </a>
        </li>
      
        
        <li class="menu-item menu-item-about">
          <a href="/about" rel="section">
            
              <i class="menu-item-icon fa fa-fw fa-user"></i> <br />
            
            关于
          </a>
        </li>
      

      
        <li class="menu-item menu-item-search">
          
            <a href="javascript:;" class="popup-trigger">
          
            
              <i class="menu-item-icon fa fa-search fa-fw"></i> <br />
            
            搜索
          </a>
        </li>
      
    </ul>
  

  
    <div class="site-search">
      
  <div class="popup search-popup local-search-popup">
  <div class="local-search-header clearfix">
    <span class="search-icon">
      <i class="fa fa-search"></i>
    </span>
    <span class="popup-btn-close">
      <i class="fa fa-times-circle"></i>
    </span>
    <div class="local-search-input-wrapper">
      <input autocomplete="off"
             placeholder="搜索..." spellcheck="false"
             type="text" id="local-search-input">
    </div>
  </div>
  <div id="local-search-result"></div>
</div>



    </div>
  
</nav>



 </div>
    </header>

    <main id="main" class="main">
      <div class="main-inner">
        <div class="content-wrap">
          <div id="content" class="content">
            

  <div id="posts" class="posts-expand">
    

  

  
  
  

  <article class="post post-type-normal " itemscope itemtype="http://schema.org/Article">
    <link itemprop="mainEntityOfPage" href="http://blog.todo4team.net/2017-09-07-33954/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="name" content="Jack Xia">
      <meta itemprop="description" content="">
      <meta itemprop="image" content="/images/avatar.gif">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Love Coding & Integrity">
    </span>

    
      <header class="post-header">

        
        
          <h1 class="post-title" itemprop="name headline">细节：如何轻松影响他人 - 罗伯特·西奥迪尼</h1>
        

        <div class="post-meta">
          <span class="post-time">
            
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              
                <span class="post-meta-item-text">发表于</span>
              
              <time title="创建于" itemprop="dateCreated datePublished" datetime="2017-09-07T08:00:00+08:00">
                2017-09-07
              </time>
            

            

            
          </span>

          

          
            
          

          
          

          

          

          

        </div>
      </header>
    

    <div class="post-body" itemprop="articleBody">

      
      

      
        <p>为便于查阅，拷贝辑录52个细节要点作为参考纲要，等需要深入了解时再进行扩展阅读。</p>
<p>1.向“大众”借力﻿</p>
<p>  人类的行为会在相当程度上受到周围的人的影响，尤其是那些令他们深深认同的人，这就是“社会认同原理”，也就是从众心理，如果在物业费缴费通知单上标出大多数人都已经按时缴纳完毕，那么拖欠物业费的现象会有相当大程度的改善。﻿</p>
<p>﻿2.“小众”的反作用力﻿</p>
<p>  人们总是愿意与自己所属的群体行为保持一致，同时与不愿与之扯上关系的群体划清界限。比如当年黄渤在《疯狂的石头》里一句台词“班尼路，牌子”毁掉了班尼路积攒多年的品牌价值。因而，如果不鼓励某种行为，就把这些行为和受众们不想要的身份联系起来。﻿</p>
<p>﻿3.非常态VS常态﻿</p>
<p>  每个人心中的社会规范标准是不一样的，用违背对方的社会规范角度去规劝，更容易获得说服效果。比如，你若有个朋友总是不结婚，你要劝劝他：如果对方也认为“结婚”是很必要的，那么要强调不结婚的坏处；如果对方认为“结婚”没那么大的必要，那么就要强调“结婚”能够带来的好处。﻿</p>
<p>﻿4.强大的环境暗示﻿</p>
<p> “破窗理论”是指微小地违背社会规范行为，会对其他行为造成负面的影响。环境中的不良现象如果被放任存在，会诱使人们仿效，甚至变本加厉。改变环境比改变人的想法更容易，所以应对之道是让人们清楚地看到别人在遵守规则。比如在一个单位里，如果多数人桌面是乱的，原来爱干净的人的桌面也容易变得凌乱。如果多数人桌面整洁，原来不太爱干净的人的桌面也会变得更为整洁。环境整洁了，整体工作效率会相应提升。﻿</p>
<p>﻿5.改个名字，改变一切﻿</p>
<p>  我们非常重视自己的名字，即便是再嘈杂的环境中，只要有人提到自己的名字，注意力立马就会被吸引过去。在心理学领域叫“鸡尾酒会现象”。所以在和人沟通的时候，清楚而多次地提到对方的名字会让对方更重视，这也是为什么群发祝福短信大家都很讨厌，而点名祝福的短信，再短也会受到欢迎。﻿</p>
<p>﻿6.如何化敌为友﻿</p>
<p>  当你希望鼓励大家联手合作的时候，应该把重点放到大家共同的身份上，找到共同点。比如球迷多数都支持自己省份的球队，有时吵得不可开交，但当踢面对国际赛事时，因为同是中国人的共同身份，却都同仇敌忾一致对外。﻿</p>
<p>﻿7.预测他人的喜好、渴望与需求﻿</p>
<p>  我们总是高估对某一个人的了解程度，因为一方面对方的喜好随时间在变化，另一方面由于关系固定，导致不再用心挖掘对方的喜好。所以不管是老朋友还是老客户，都别用老眼光去看一个人，有必要不定期安排一些非正式沟通机会，促进彼此的了解。﻿</p>
<p>﻿8.主动承诺的力量﻿</p>
<p>  承诺和一致性原理——人们更愿意去履行自己许下的诺言。给团队分配任务的时候，让成员复述一下自己的工作内容，会使任务得到更好的执行；活动邀请信息中让对方回复“好的”、“收到”会使活动出席率更高。﻿</p>
<p>﻿9.承诺要行动，要公开﻿</p>
<p>  公开许下某项具体承诺的人更有可能去行动，可以做提示牌、徽章之类的提示物，来提醒他们做出的承诺。在工作中可以把阶段性的工作目标公布出来，对推进工作进程效果更好。﻿</p>
<p>﻿10.“心安理得”效应﻿</p>
<p>采取了一个积极行为之后，人会心安理得地松懈下来，不再采取新的积极行动。比如有些朋友气喘吁吁跑了五公里之后，奖励自己一顿啤酒烧烤，导致白跑了。比如有些人昨晚加班了第二天感觉迟到好像不那么严重。“心安理得”效应是应该想办法避免的。﻿</p>
<p>﻿11.如何为员工鼓劲儿加油﻿</p>
<p>  “多劳多得”这样的物质激励有效，但是一方面效果不持久，另一方面成本高。多提工作的意义与重要性，谈工作的使命与愿景，对提高员工的工作意愿有显著的效果。在物质激励与精神激励之间要找到一个平衡点，既能保证公平，又能保证团队的效能。﻿</p>
<p>﻿12.如何避开决策陷阱﻿</p>
<p>  逐步升级的承诺，会导致投入成本高于收益，导致错误的决策与糟糕的后果，一定要避免。﻿拍卖时，很多竞拍的人因为“逐步升级的承诺”而拍出可怕的高价。这是因为如果人们做出一个承诺，他们可能迫于内心和外部压力，持续做出和承诺相一致的行为，并逐步升级、超过承受能力。解决方案：拍卖时，让一个人做决策，另一个人现场执行。﻿</p>
<p>﻿13.巧用“执行意向”﻿</p>
<p>  明确的执行计划更有助于行动，不仅对自己，对对方也同样适用。在说服别人行动时，想办法明确关于此事对方的下一步计划，有助于目标的达成。﻿</p>
<p>﻿14.推迟一点儿会更好﻿</p>
<p>  如果你希望别人马上改变某个行为，而你确信会遭到拒绝，那么你就换个方式，让对方答应在未来某个时段做出改变。对于要改变下属的不好行为，最好别要求马上做出改变，给出一段过渡时间效果会更好。﻿</p>
<p>﻿15.为了将来的自己﻿</p>
<p>如果触动了人们对“将来的自己”的道德责任感，就可以说服他们去做一些长远上对他们有益的事情。比如告诉人们，要“为60岁退休的你负责”，就能增加他们的储蓄率。还有学习、健身、读书等。﻿</p>
<p>﻿16.目标设得好，干劲儿会更足﻿</p>
<p>  把目标中具体的数字变换成浮动性的数字，会更有利于目标达成。﻿</p>
<p>﻿17.损失规避原则﻿</p>
<p>  说服对方时，不要只提出一个选项，让对方“接受或拒绝”，而是要提出两个选项，让对方去选择。与此同时，指出如果不这样选的话，他们会失去什么。﻿</p>
<p>﻿18.如何克服拖延症﻿</p>
<p>  截止日期越短越能促进人行动，太长则会拖延。安排任务切忌给太长时限，反而更容易延误。﻿</p>
<p>﻿19.如何留住顾客跟定你﻿</p>
<p>如何让排队效率更高？等下去。所以在顾客排队的时候，给他们一些事情做，能让顾客更有耐心。比如海底捞在等餐的时候可以玩棋、吃零食、做美甲、擦鞋等等﻿</p>
<p>﻿20.把潜力变成现实﻿</p>
<p>  当你想说服客户买你公司的产品，或者面试的时候想要说服对方聘用你时，要先强调你的产品，或者你自己的潜力，然后再说做出过哪些成绩，而不是反过来。先强调潜力能更好地吸引对方的兴趣，然后才有机会展示过去的成绩。﻿</p>
<p>﻿21.把会议开得更高效﻿</p>
<p>  会前收集每个人的发言或提问信息，组织会议的人最后发言，提前做好任务清单，安排好座位座次，尽量用桌签指定座位。如果会议的目的是创造合作互助的气氛，那圆桌更好，因为圆桌强调的信息是整体目标和共同利益。如果领导希望团队成员各尽其责，那正方形或长方形桌子更好，因为带角的形状和有主有次的座次安排激发了人们对独特性的追求。﻿</p>
<p>﻿22.服装的影响力﻿</p>
<p>  与对方会面，衣着太随意不好，太正式也不好，标准答案是比对方稍微正式一点点。﻿</p>
<p>﻿23.亮出专家身份﻿</p>
<p>  强调专业能力能显著提高沟通效果，当然，前提是你真的很专业。﻿</p>
<p>﻿24.不确定的说服力﻿</p>
<p>  用斩钉截铁的语气想要去说服人容易被对方误认为骗子或托，语气中带有某种程度的不确定的专家，反而更容易说服人。﻿</p>
<p>﻿25.中心位置的影响力﻿</p>
<p>展架上中间位置的货更抢手，人群中中间位置的人显得更权威。﻿</p>
<p>﻿26.如何激发创意﻿</p>
<p>  会议的场地选在天花板较高的房间更有利于激发创意，选在天花板较低的房间更有利于解决具体方案和行动计划。﻿</p>
<p>﻿27.主场还是客场﻿</p>
<p>  环境设置影响行为，就像NBA往往会有“主场优势”，所以一般大型的会谈、谈判会选在“中立”的地点，比如某酒店的会议厅。﻿</p>
<p>﻿28.如何让自己变得更强大﻿</p>
<p>  心理暗示的力量，回忆并写下曾经让自己感觉到强大、有力的时刻，比如某个成就事件，会真的让自己更加强大有力，有自信。开始谈判或面试前几分钟，回忆自己的巅峰时刻，刻意保持开放的身体姿势，会让你体内的力量激素明显上升，你会更自信。﻿</p>
<p>﻿29.你所需的只是爱﻿</p>
<p>  只要有“爱”的象征、线索，比如心形的图案，就能激发人们的爱心。如用心形的捐款箱会筹到更多捐款。﻿</p>
<p>﻿30.完美礼物哪里找﻿</p>
<p>  送礼之前，想办法摸清楚对方真正想要什么，不要自己瞎猜，因为人们收到自己心愿清单上的礼物会更开心，更喜爱。﻿</p>
<p>﻿31.为互助留出余地﻿</p>
<p>  你提供帮助后，在回应对方的感谢时，应该暗示期待他的回报，这样你就为“互助”留下了余地。暗示性回答可以是：没关系，如果是我以后需要帮助，你也会这么做的。﻿</p>
<p>﻿32.表达感激好处多﻿</p>
<p>  明确表达感激之情会使给予帮助的人感受到更多的社会价值感，有十分明显的积极影响。﻿</p>
<p>﻿33.出乎意料与抛砖引玉﻿</p>
<p>  利用“互惠”心理，你可以率先给别人好处，好处越是出乎别人的意料，就越能放大对方积极正向的回报。﻿</p>
<p>﻿34.如何获得帮助﻿</p>
<p>  想要求助的人往往低估了对方愿意帮忙的程度。因为求助的人只看到对方帮忙会花费各种成本（时间、精力、金钱），但是其实对方如果拒绝，同样会产生成本（尴尬、丢面子、内疚等）。所以如果真的需要帮忙，尽管开口。﻿</p>
<p>﻿35.先下手为强﻿</p>
<p>  两方谈判的时候，哪一方先出价，最终的价格就会定在这个价格附近，这就是锚点效应。所以在谈判的时候，如果有哪个因素能够可以充当锚点，就率先提出来，不要等着对手说，容易被动。﻿</p>
<p>﻿36.报价精确一点儿会更好﻿</p>
<p>  一旦提供精确到各位的数字，会让对方认为你提出的数字是经过深思熟虑的，是有额外意义的，因此更容易达到要求。时间也是一样，如“请把材料在15:37分之前交给我”。﻿</p>
<p>﻿37.定价末尾数字有玄机﻿</p>
<p>199元到200元只差1元，但是消费者看上去的效果像是涨了100块一样，消费者更关注左侧的数字，一点改动足以影响客户的购买决定。把跑步机里程设定在9.9公里而不是10公里，能让人有更大动力去完成。﻿</p>
<p>﻿38.顺序改一改，生意滚滚来﻿</p>
<p>我们的决定总是受情境影响，当选项变得复杂时，人们的注意力会集中在最先出现的信息上。在不容易算清的时候，人们更喜欢收益在前面、成本在后面的表述顺序，“付279.99元可以观看580小时节目”，就不如“看580小时的节目收费279.99元”。给我们的启发是：销售时，先说服务、再说报价；求职时，先说取得的业绩总数量、再说你的工作年数。﻿</p>
<p>﻿39.如何事半功倍﻿</p>
<p>  不必投入资源去为所有顾客都增加一点儿不起眼的优惠，这就好比往热水里加温水，只会降低整体温度。要用这些资源为少数重点客户提供额外诱人的优惠。激励员工时也是一样。﻿</p>
<p>﻿40.化整为零﻿</p>
<p>  说服对方答应一个大请求时，可以先化整为零拆出一个小请求，让对方衡量愿意为小请求付出的代价，之后再把大请求提出来，你就可能得到更多。比如你先让人想想，捐助一个失学儿童他愿意付出多少钱，再让他决定，如果要帮助40名失学儿童他愿意捐款多少。﻿</p>
<p>﻿41.鲜明生动的细节﻿</p>
<p>有具体的细节更更打动人——真实性：清晰具体的手段更能说服人——价值感。想要说服别人，要引导对方关注形象鲜明的受益对象以及清晰具体的实现手段。，既提供真实性，<br>又提供价值感。﻿</p>
<p>﻿42.指出机会成本﻿</p>
<p>  机会成本，指的是人们选择了一个方案，就会损失掉其他方案有可能获得的收益。如果产品优惠，就把机会成本讲得清楚、诱人。促销的一个秘诀是，让顾客具体感知到他们买了你的产品之后的“机会成本”。比如你的产品比对手便宜100元，可以让顾客具体设想一下省下来100元还可以买什么，这会促进他们选择你。﻿</p>
<p>﻿43.如何激励他人（还有你自己）完成任务﻿</p>
<p>  将注意力引导到小数字上去。任务的前期关注已经完成度——“你已经完成20%啦”；任务的后期关注还剩多少——“你只剩20%就完成啦”。如果你计划减肥，那开始时，多想想已经减掉了多少，到中后期，多想想还有几斤没减掉。盯着比较小的数字，更能激励自己。﻿</p>
<p>﻿44.如何提高客户忠诚度﻿</p>
<p>  人们喜欢少做决策，而不是多做，这一点从聚餐时大家都不爱点菜上就能看出来了。当组织一场活动时，如果参与规则简单灵活，则更容易吸引人前来参与，但完成的人更少；如果参与规则严苛，却更容易使人坚持到底完成任务。给更少的决策空间更利于对方的行动。﻿</p>
<p>﻿45.如何让一加一大于二﻿</p>
<p>  人们害怕失去，对失去的担忧更胜过对得到它的渴望。因此激励他人的时候，奖品要分类，分梯度，才能更吸引人的注意，会刺激人们“害怕失去”的感觉，因此效果更好。﻿</p>
<p>﻿46. 退后一步看问题﻿</p>
<p>  人与问题之间的实体距离会影响他们对这个问题难易程度的印象。远一点，问题显得更容易，近一点，显得更难。所以后退一步、站远一点看问题，就觉得没那么棘手了。﻿</p>
<p>﻿47.从他人的错误中汲取教训﻿</p>
<p> 成功难以归为某一单一因素，但是一个错误就能导致失败；负面信息更容易被记住，更有可能影响决策；旁观者清，看别人犯过的错，更容易看出毛病在哪。所以，与其学习如何才能成功，不如学如何避免失败的决策。﻿</p>
<p>﻿48.对错误进行管理﻿</p>
<p>  不怕犯错误，只要及时修正就好。要把有限的资源放在“迅速解决问题”上，而是不是牺牲更大的成本追求“零失误”。﻿</p>
<p>﻿49.当天就点评﻿</p>
<p>网购平台的评论中，当评论中没有时间线索的时候，大家更看重负面评论，只要有出现差评，不论还有多少好评，大家都不想买了。但是如果评论中的好评是当天点评的，那么人们更愿意忽视差评而相信好评。﻿</p>
<p>﻿50.给邮件加点料，让谈判更顺畅﻿</p>
<p>  让邮件有一些幽默、人情味，更能拉近距离，更容让沟通的事情得以解决。﻿</p>
<p>﻿51.碰触的魔力﻿</p>
<p>  碰触能让人跟物件之间产生十分亲密的情感，所以允许潜在顾客摸待售商品会增进好感，当然前提商品摸着要舒服，不能让人难受。﻿</p>
<p>﻿52.把最好的留到最后﻿</p>
<p>  人们更容易记住的是体验中的巅峰，与结束时的感受。所以巅峰体验应该尽量放大，结尾的事情考虑周到认真做好，不要让停车场的差评毁掉一次高大上音乐会的体验。如果去旅游，其把预算平均到每一天，不如集中起来做两件有意思的事，尤其是在末尾的时候，不能让最后不愉快影响了对这次旅行的整体印象。</p>
<p>作者：微尘悦读</p>
<p>來源：简书</p>
<p>著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。</p>

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <div>
      
        

      
    </div>

    <footer class="post-footer">
      
        <div class="post-tags">
          
            <a href="/tags/读书/" rel="tag"># 读书</a>
          
        </div>
      

      
      
      

      
        <div class="post-nav">
          <div class="post-nav-next post-nav-item">
            
              <a href="/2017-08-28-33230/" rel="next" title="拆掉思维里的墙 - 古典">
                <i class="fa fa-chevron-left"></i> 拆掉思维里的墙 - 古典
              </a>
            
          </div>

          <span class="post-nav-divider"></span>

          <div class="post-nav-prev post-nav-item">
            
              <a href="/2017-10-09-36132/" rel="prev" title="程序员的数学思维修炼 周颖">
                程序员的数学思维修炼 周颖 <i class="fa fa-chevron-right"></i>
              </a>
            
          </div>
        </div>
      

      
      
    </footer>
  </article>



    <div class="post-spread">
      
        
  <div class="bdsharebuttonbox">
    <a href="#" class="bds_tsina" data-cmd="tsina" title="分享到新浪微博"></a>
    <a href="#" class="bds_douban" data-cmd="douban" title="分享到豆瓣网"></a>
    <a href="#" class="bds_sqq" data-cmd="sqq" title="分享到QQ好友"></a>
    <a href="#" class="bds_qzone" data-cmd="qzone" title="分享到QQ空间"></a>
    <a href="#" class="bds_weixin" data-cmd="weixin" title="分享到微信"></a>
    <a href="#" class="bds_tieba" data-cmd="tieba" title="分享到百度贴吧"></a>
    <a href="#" class="bds_twi" data-cmd="twi" title="分享到Twitter"></a>
    <a href="#" class="bds_fbook" data-cmd="fbook" title="分享到Facebook"></a>
    <a href="#" class="bds_more" data-cmd="more"></a>
    <a class="bds_count" data-cmd="count"></a>
  </div>
  <script>
    window._bd_share_config = {
      "common": {
        "bdText": "",
        "bdMini": "2",
        "bdMiniList": false,
        "bdPic": ""
      },
      "share": {
        "bdSize": "16",
        "bdStyle": "0"
      },
      "image": {
        "viewList": ["tsina", "douban", "sqq", "qzone", "weixin", "twi", "fbook"],
        "viewText": "分享到：",
        "viewSize": "16"
      }
    }
  </script>

<script>
  with(document)0[(getElementsByTagName('head')[0]||body).appendChild(createElement('script')).src='//bdimg.share.baidu.com/static/api/js/share.js?cdnversion='+~(-new Date()/36e5)];
</script>

      
    </div>
  </div>


          </div>
          


          
  <div class="comments" id="comments">
    
  </div>


        </div>
        
          
  
  <div class="sidebar-toggle">
    <div class="sidebar-toggle-line-wrap">
      <span class="sidebar-toggle-line sidebar-toggle-line-first"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-middle"></span>
      <span class="sidebar-toggle-line sidebar-toggle-line-last"></span>
    </div>
  </div>

  <aside id="sidebar" class="sidebar">
    <div class="sidebar-inner">

      

      

      <section class="site-overview sidebar-panel sidebar-panel-active">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
          <img class="site-author-image" itemprop="image"
               src="/images/avatar.gif"
               alt="Jack Xia" />
          <p class="site-author-name" itemprop="name">Jack Xia</p>
           
              <p class="site-description motion-element" itemprop="description">为自我完善的意愿编码人生, 以爱促进自我和他人的心智成熟</p>
          
        </div>
        <nav class="site-state motion-element">

          
            <div class="site-state-item site-state-posts">
              <a href="/archives">
                <span class="site-state-item-count">126</span>
                <span class="site-state-item-name">日志</span>
              </a>
            </div>
          

          

          
            
            
            <div class="site-state-item site-state-tags">
              <a href="/tags/index.html">
                <span class="site-state-item-count">16</span>
                <span class="site-state-item-name">标签</span>
              </a>
            </div>
          

        </nav>

        

        <div class="links-of-author motion-element">
          
        </div>

        
        

        
        

        


      </section>

      

      

    </div>
  </aside>


        
      </div>
    </main>

    <footer id="footer" class="footer">
      <div class="footer-inner">
        <div class="copyright" >
  
  &copy; 
  <span itemprop="copyrightYear">2018</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jack Xia</span>
</div>



        

        
      </div>
    </footer>

    
      <div class="back-to-top">
        <i class="fa fa-arrow-up"></i>
        
      </div>
    

  </div>

  

<script type="text/javascript">
  if (Object.prototype.toString.call(window.Promise) !== '[object Function]') {
    window.Promise = null;
  }
</script>









  












  
  <script type="text/javascript" src="/lib/jquery/index.js?v=2.1.3"></script>

  
  <script type="text/javascript" src="/lib/fastclick/lib/fastclick.min.js?v=1.0.6"></script>

  
  <script type="text/javascript" src="/lib/jquery_lazyload/jquery.lazyload.js?v=1.9.7"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>

  
  <script type="text/javascript" src="/lib/fancybox/source/jquery.fancybox.pack.js?v=2.1.5"></script>


  


  <script type="text/javascript" src="/js/src/utils.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/motion.js?v=5.1.1"></script>



  
  


  <script type="text/javascript" src="/js/src/affix.js?v=5.1.1"></script>

  <script type="text/javascript" src="/js/src/schemes/pisces.js?v=5.1.1"></script>



  
  <script type="text/javascript" src="/js/src/scrollspy.js?v=5.1.1"></script>
<script type="text/javascript" src="/js/src/post-details.js?v=5.1.1"></script>



  


  <script type="text/javascript" src="/js/src/bootstrap.js?v=5.1.1"></script>



  


  




	





  





  





  






  

  <script type="text/javascript">
    // Popup Window;
    var isfetched = false;
    var isXml = true;
    // Search DB path;
    var search_path = "search.xml";
    if (search_path.length === 0) {
      search_path = "search.xml";
    } else if (/json$/i.test(search_path)) {
      isXml = false;
    }
    var path = "/" + search_path;
    // monitor main search box;

    var onPopupClose = function (e) {
      $('.popup').hide();
      $('#local-search-input').val('');
      $('.search-result-list').remove();
      $('#no-result').remove();
      $(".local-search-pop-overlay").remove();
      $('body').css('overflow', '');
    }

    function proceedsearch() {
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay"></div>')
        .css('overflow', 'hidden');
      $('.search-popup-overlay').click(onPopupClose);
      $('.popup').toggle();
      var $localSearchInput = $('#local-search-input');
      $localSearchInput.attr("autocapitalize", "none");
      $localSearchInput.attr("autocorrect", "off");
      $localSearchInput.focus();
    }

    // search function;
    var searchFunc = function(path, search_id, content_id) {
      'use strict';

      // start loading animation
      $("body")
        .append('<div class="search-popup-overlay local-search-pop-overlay">' +
          '<div id="search-loading-icon">' +
          '<i class="fa fa-spinner fa-pulse fa-5x fa-fw"></i>' +
          '</div>' +
          '</div>')
        .css('overflow', 'hidden');
      $("#search-loading-icon").css('margin', '20% auto 0 auto').css('text-align', 'center');

      $.ajax({
        url: path,
        dataType: isXml ? "xml" : "json",
        async: true,
        success: function(res) {
          // get the contents from search data
          isfetched = true;
          $('.popup').detach().appendTo('.header-inner');
          var datas = isXml ? $("entry", res).map(function() {
            return {
              title: $("title", this).text(),
              content: $("content",this).text(),
              url: $("url" , this).text()
            };
          }).get() : res;
          var input = document.getElementById(search_id);
          var resultContent = document.getElementById(content_id);
          var inputEventFunction = function() {
            var searchText = input.value.trim().toLowerCase();
            var keywords = searchText.split(/[\s\-]+/);
            if (keywords.length > 1) {
              keywords.push(searchText);
            }
            var resultItems = [];
            if (searchText.length > 0) {
              // perform local searching
              datas.forEach(function(data) {
                var isMatch = false;
                var hitCount = 0;
                var searchTextCount = 0;
                var title = data.title.trim();
                var titleInLowerCase = title.toLowerCase();
                var content = data.content.trim().replace(/<[^>]+>/g,"");
                var contentInLowerCase = content.toLowerCase();
                var articleUrl = decodeURIComponent(data.url);
                var indexOfTitle = [];
                var indexOfContent = [];
                // only match articles with not empty titles
                if(title != '') {
                  keywords.forEach(function(keyword) {
                    function getIndexByWord(word, text, caseSensitive) {
                      var wordLen = word.length;
                      if (wordLen === 0) {
                        return [];
                      }
                      var startPosition = 0, position = [], index = [];
                      if (!caseSensitive) {
                        text = text.toLowerCase();
                        word = word.toLowerCase();
                      }
                      while ((position = text.indexOf(word, startPosition)) > -1) {
                        index.push({position: position, word: word});
                        startPosition = position + wordLen;
                      }
                      return index;
                    }

                    indexOfTitle = indexOfTitle.concat(getIndexByWord(keyword, titleInLowerCase, false));
                    indexOfContent = indexOfContent.concat(getIndexByWord(keyword, contentInLowerCase, false));
                  });
                  if (indexOfTitle.length > 0 || indexOfContent.length > 0) {
                    isMatch = true;
                    hitCount = indexOfTitle.length + indexOfContent.length;
                  }
                }

                // show search results

                if (isMatch) {
                  // sort index by position of keyword

                  [indexOfTitle, indexOfContent].forEach(function (index) {
                    index.sort(function (itemLeft, itemRight) {
                      if (itemRight.position !== itemLeft.position) {
                        return itemRight.position - itemLeft.position;
                      } else {
                        return itemLeft.word.length - itemRight.word.length;
                      }
                    });
                  });

                  // merge hits into slices

                  function mergeIntoSlice(text, start, end, index) {
                    var item = index[index.length - 1];
                    var position = item.position;
                    var word = item.word;
                    var hits = [];
                    var searchTextCountInSlice = 0;
                    while (position + word.length <= end && index.length != 0) {
                      if (word === searchText) {
                        searchTextCountInSlice++;
                      }
                      hits.push({position: position, length: word.length});
                      var wordEnd = position + word.length;

                      // move to next position of hit

                      index.pop();
                      while (index.length != 0) {
                        item = index[index.length - 1];
                        position = item.position;
                        word = item.word;
                        if (wordEnd > position) {
                          index.pop();
                        } else {
                          break;
                        }
                      }
                    }
                    searchTextCount += searchTextCountInSlice;
                    return {
                      hits: hits,
                      start: start,
                      end: end,
                      searchTextCount: searchTextCountInSlice
                    };
                  }

                  var slicesOfTitle = [];
                  if (indexOfTitle.length != 0) {
                    slicesOfTitle.push(mergeIntoSlice(title, 0, title.length, indexOfTitle));
                  }

                  var slicesOfContent = [];
                  while (indexOfContent.length != 0) {
                    var item = indexOfContent[indexOfContent.length - 1];
                    var position = item.position;
                    var word = item.word;
                    // cut out 100 characters
                    var start = position - 20;
                    var end = position + 80;
                    if(start < 0){
                      start = 0;
                    }
                    if (end < position + word.length) {
                      end = position + word.length;
                    }
                    if(end > content.length){
                      end = content.length;
                    }
                    slicesOfContent.push(mergeIntoSlice(content, start, end, indexOfContent));
                  }

                  // sort slices in content by search text's count and hits' count

                  slicesOfContent.sort(function (sliceLeft, sliceRight) {
                    if (sliceLeft.searchTextCount !== sliceRight.searchTextCount) {
                      return sliceRight.searchTextCount - sliceLeft.searchTextCount;
                    } else if (sliceLeft.hits.length !== sliceRight.hits.length) {
                      return sliceRight.hits.length - sliceLeft.hits.length;
                    } else {
                      return sliceLeft.start - sliceRight.start;
                    }
                  });

                  // select top N slices in content

                  var upperBound = parseInt('1');
                  if (upperBound >= 0) {
                    slicesOfContent = slicesOfContent.slice(0, upperBound);
                  }

                  // highlight title and content

                  function highlightKeyword(text, slice) {
                    var result = '';
                    var prevEnd = slice.start;
                    slice.hits.forEach(function (hit) {
                      result += text.substring(prevEnd, hit.position);
                      var end = hit.position + hit.length;
                      result += '<b class="search-keyword">' + text.substring(hit.position, end) + '</b>';
                      prevEnd = end;
                    });
                    result += text.substring(prevEnd, slice.end);
                    return result;
                  }

                  var resultItem = '';

                  if (slicesOfTitle.length != 0) {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + highlightKeyword(title, slicesOfTitle[0]) + "</a>";
                  } else {
                    resultItem += "<li><a href='" + articleUrl + "' class='search-result-title'>" + title + "</a>";
                  }

                  slicesOfContent.forEach(function (slice) {
                    resultItem += "<a href='" + articleUrl + "'>" +
                      "<p class=\"search-result\">" + highlightKeyword(content, slice) +
                      "...</p>" + "</a>";
                  });

                  resultItem += "</li>";
                  resultItems.push({
                    item: resultItem,
                    searchTextCount: searchTextCount,
                    hitCount: hitCount,
                    id: resultItems.length
                  });
                }
              })
            };
            if (keywords.length === 1 && keywords[0] === "") {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-search fa-5x" /></div>'
            } else if (resultItems.length === 0) {
              resultContent.innerHTML = '<div id="no-result"><i class="fa fa-frown-o fa-5x" /></div>'
            } else {
              resultItems.sort(function (resultLeft, resultRight) {
                if (resultLeft.searchTextCount !== resultRight.searchTextCount) {
                  return resultRight.searchTextCount - resultLeft.searchTextCount;
                } else if (resultLeft.hitCount !== resultRight.hitCount) {
                  return resultRight.hitCount - resultLeft.hitCount;
                } else {
                  return resultRight.id - resultLeft.id;
                }
              });
              var searchResultList = '<ul class=\"search-result-list\">';
              resultItems.forEach(function (result) {
                searchResultList += result.item;
              })
              searchResultList += "</ul>";
              resultContent.innerHTML = searchResultList;
            }
          }

          if ('auto' === 'auto') {
            input.addEventListener('input', inputEventFunction);
          } else {
            $('.search-icon').click(inputEventFunction);
            input.addEventListener('keypress', function (event) {
              if (event.keyCode === 13) {
                inputEventFunction();
              }
            });
          }

          // remove loading animation
          $(".local-search-pop-overlay").remove();
          $('body').css('overflow', '');

          proceedsearch();
        }
      });
    }

    // handle and trigger popup window;
    $('.popup-trigger').click(function(e) {
      e.stopPropagation();
      if (isfetched === false) {
        searchFunc(path, 'local-search-input', 'local-search-result');
      } else {
        proceedsearch();
      };
    });

    $('.popup-btn-close').click(onPopupClose);
    $('.popup').click(function(e){
      e.stopPropagation();
    });
    $(document).on('keyup', function (event) {
      var shouldDismissSearchPopup = event.which === 27 &&
        $('.search-popup').is(':visible');
      if (shouldDismissSearchPopup) {
        onPopupClose();
      }
    });
  </script>





  

  

  

  

  

  

</body>
</html>
